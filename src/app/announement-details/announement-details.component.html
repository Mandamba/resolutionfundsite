<div *ngIf="!isLoading">
  <!-- Banner com Fundo Gradiente Cyan-800
  <div
    class="relative h-[250px] bg-gradient-to-b from-cyan-800 to-cyan-800"
    data-aos="fade-up"
  >
    <app-banner-info-card
      [title]="announcement.title"
      [description]="announcement.subtitle"
    >
    </app-banner-info-card>
  </div>-->

  <!-- Conteúdo do Anúncio -->
  <div class="container px-12 py-12 max-w-7xl mx-auto">
    <!-- Imagem Acima da Descrição -->
    <div
      class="w-full h-[400px] bg-center bg-cover mb-4"
      [ngStyle]="{ 'background-image': 'url(' + announcement.imageUrl + ')' }"
      data-aos="fade-in"
      data-aos-duration="1000"
    ></div>
    <h1 class="text-3xl font-bold text-gray-900 mb-4" data-aos="fade-up">
      {{ announcement.title }}
    </h1>
    <h2
      class="text-2xl text-gray-700 mb-4 flex justify-between items-center"
      data-aos="fade-up"
    >
      <span>{{ announcement.subtitle }}</span>
      <a (click)="showModal()" class="text-cyan-600 cursor-pointer no-underline"
        >Deixar Comentário</a
      >
    </h2>
    <div
      class="text-gray-600 text-lg leading-relaxed mb-6 text-justify"
      data-aos="fade-up"
    >
      <p>{{ announcement.description.substring(0, 550) }}...</p>
      <p
        *ngIf="isReadMore"
        class="text-gray-600 text-lg leading-relaxed mb-6 text-justify"
      >
        {{ announcement.description.substring(150) }}
      </p>
      <button (click)="toggleReadMore()" class="text-cyan-600 hover:underline">
        {{ isReadMore ? "Ler Menos" : "Ler Mais" }}
        <svg
          class="inline w-4 h-4"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <path d="M5 15l7-7 7 7"></path>
        </svg>
      </button>
    </div>
    <p class="text-3xl text-cyan-700 font-semibold mb-6" data-aos="fade-up">
      {{ announcement.price }}
    </p>
  </div>

  <!-- Modal de Comentários -->
  <div
    class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50"
    *ngIf="isModalVisible"
  >
    <div
      class="bg-white rounded-lg shadow-lg max-w-lg mx-4 p-6 relative"
      data-aos="fade-up"
    >
      <button
        (click)="hideModal()"
        class="absolute top-3 right-3 text-gray-600 hover:text-gray-900"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          ></path>
        </svg>
      </button>
      <h3 class="text-xl text-cyan-800 mb-8">Deixe seu comentário</h3>
      <form
        class="space-y-6 max-w-lg mx-auto px-4 sm:px-6 lg:px-8"
        (ngSubmit)="submitForm()"
      >
        <div>
          <label for="name" class="block text-sm mb-2">Seu Nome:</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            class="w-full px-4 py-3 border border-cyan-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-cyan-800 focus:border-cyan-800 transition duration-300 ease-in-out"
          />
        </div>
        <div>
          <label for="email" class="block text-sm mb-2">Seu E-mail:</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            class="w-full px-4 py-3 border border-cyan-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-cyan-800 focus:border-cyan-800 transition duration-300 ease-in-out"
          />
        </div>
        <div>
          <label for="message" class="block text-sm mb-2"
            >Seu Comentário:</label
          >
          <textarea
            id="message"
            name="message"
            required
            class="w-full px-4 py-3 border border-cyan-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-cyan-800 focus:border-cyan-800 transition duration-300 ease-in-out"
            rows="5"
          ></textarea>
        </div>
        <div class="flex items-center space-x-3">
          <input
            type="checkbox"
            id="saveData"
            name="saveData"
            class="h-4 w-4 text-cyan-800 border-cyan-800 rounded focus:ring-cyan-800 transition duration-300 ease-in-out"
          />
          <label for="saveData" class="text-sm"
            >Salvar meus dados neste navegador para a próxima vez que eu
            comentar.</label
          >
        </div>
        <div class="flex justify-center">
          <button
            type="submit"
            class="px-3 py-3 bg-cyan-800 text-white rounded-lg shadow-md hover:bg-cyan-800 focus:outline-none focus:ring-2 focus:ring-cyan-800 transition duration-300 ease-in-out"
          >
            Enviar Comentário
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
